<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ProjetoAgendaCRUD</title>
</head>
<body>
    <script>
        
        function agendaContatos() {
            return parseInt(prompt(
            `
            [1] -> Contatos Salvos
            [2] -> Cadastrar um novo
            [3] -> Atualizar Contato
            [4] -> Deletar Contato
            [5] -> Sair do Programa! 
            `
            ));
        }
        
        var dt= new Date();
        var diasem= dt.getDay();
        var dia = dt.getDate();
        var mes = dt.getMonth();
        var ano= dt.getFullYear();

        var horas = dt.getHours();
        var minutos = dt. getMinutes();
        var segundos = dt.getSeconds();

        var meses = new Array("jan", 'fev', 'mar', 'abr', 'mai', 'jun', 'jul', 'ago', 'set', 'out', 'nov', 'dez');
        var semanas = new Array("dom", 'seg', 'ter', 'qua', 'qui', 'sex', 'sab');

        document.write(semanas[diasem] + ", " + dia + " de " + meses[mes]);
        document.write(horas  + ":" + minutos + ":" + segundos);


        
        
        
        
        let agendaArr = []

        function addContato() {
            const nomeContato = prompt("Por gentileza, informe o nome do contato:")
            const emailContato = prompt("Agora, informe o e-mail para prosseguirmos:")
            const telefoneContato = prompt("Por fim, descreva um telefone para contato.")
            const Date = newDate()

            if (!nomeContato || !emailContato || !telefoneContato) {
                alert ("informação obrigatória!")                
            }

            return;

            agendaArr.push({nomeContato, emailContato, telefoneContato});

            console.log(agendaArr);
            
        }

        function contatoSalvo() {
            let contatoSalvo = "";

            agendaArr.forEach((ctbase) => {
                contatoSalvo += `Contato: ${ctbase.nomeContato}, Email ${ctbase.emailContato}, telefone: ${ctbase.telefoneContato}`

            })

            alert ("Contatos Salvos" + contatoSalvo);
            
        }

        function atualizarContato() {

            const buscarCnt = prompt("Qual contato deseja atualizar?")

            const cntEncontrado = agendaArr.find(buscar =>
            buscar.emailContato === buscarCnt
        )
            
        
        if (!cntEncontrado) {
            alert ("Ops! Parece que esse contato não existe! Tente outro.")
            
            
            return;
        }
        
        const contatoNovo = prompt("Por obséquio, insira o novo nome");
        const emailNovo = prompt("Agora, inserimos um novo email, ok?");
        const telefoneAtual = prompt("um novo telefone, talvez?");
        
        if (contatoNovo) {
            cntEncontrado.nomeContato = contatoNovo
        }
        
        if (emailNovo) {
            cntEncontrado.emailContato = emailNovo
        }

        if (telefoneAtual) {
            cntEncontrado.telefoneContato = telefoneAtual
            
            
            alert("Legal! Contato atualizado com êxito!!")
        }
    }

        
        function ExcluirContato () {
            var removerContato = prompt("Deseja excluir algum contato?")

            var removerContatoSalvo = agendaArr.findIndex((contatoSalvo) => {
            contatoSalvo.contatoSalvo === removerContato
            }) ;

            const confirm = window.confirm("você deseja remover o usuário" + removerContato + "?");

                if (confirm) {
                    agendaArr.splice(removerContatoSalvo, 1);
                }

                alert("usuário deletado com sucesso!")
            }
        
            let loopBreak = true
        
        while (loopBreak) {    
            switch (agendaContatos()) {
                case 1:
                    addContato();
                    break;
            
                
                case 2:
                    contatoSalvo();
                    break;
            
                case 3:
                    atualizarContato();
                    break;

                case 4:
                    removerContato();
            
                    break;
                case 5:
                    alert('saindo do programa...até mais!')
                    loopBreak = false
                    break;
            
                default:
                    alert("opção inválida");
                    break;
            }
        }
    

    
    
    
    
    
    
    </script>





</body>
</html>